functions:
  - isUser(uid): auth.uid !== null && auth.uid === uid
  - hasRole(roleName): root.users[auth.uid].role === roleName && isVerified()
  - isVerified(): root.users[auth.uid].role !== 'Unverified' && root.users[auth.uid].role.exists()

schema:
  type: object
  properties:
    users:
      type: object
      $userId:
        type: object
        properties:
          role:
            type: string
            constraint: (hasRole('Admin') || (hasRole('Board Member') && next !== 'Admin'))


access:
  - location: /
    read:  isVerified()
    write: true
